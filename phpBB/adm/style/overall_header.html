<!DOCTYPE html>
<html dir="{S_CONTENT_DIRECTION}" lang="{S_USER_LANG}">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!-- IF META -->{META}<!-- ENDIF -->
	<title>{PAGE_TITLE}</title>

	<script type="text/javascript">
		// <![CDATA[
		var jump_page = '{LA_JUMP_PAGE}{L_COLON}';
		var on_page = '{CURRENT_PAGE}';
		var per_page = '{PER_PAGE}';
		var base_url = '{BASE_URL|e('js')}';

		/**
		 * Jump to page
		 */
		function jumpto()
		{
			var page = prompt(jump_page, on_page);

			if (page !== null && !isNaN(page) && page == Math.floor(page) && page > 0)
			{
				if (base_url.indexOf('?') == -1)
				{
					document.location.href = base_url + '?start=' + ((page - 1) * per_page);
				}
				else
				{
					document.location.href = base_url.replace(/&amp;/g, '&') + '&start=' + ((page - 1) * per_page);
				}
			}
		}

		/**
		 * Mark/unmark checkboxes
		 * id = ID of parent container, name = name prefix, state = state [true/false]
		 */
		function marklist(id, name, state)
		{
			var parent = document.getElementById(id) || document[id];

			if (!parent)
			{
				return;
			}

			var rb = parent.getElementsByTagName('input');

			for (var r = 0; r < rb.length; r++)
			{
				if (rb[r].name.substr(0, name.length) == name && rb[r].disabled !== true)
				{
					rb[r].checked = state;
				}
			}
		}

		/**
		 * Find a member
		 */
		function find_username(url)
		{
			popup(url, 760, 570, '_usersearch');
			return false;
		}

		/**
		 * Window popup
		 */
		function popup(url, width, height, name)
		{
			if (!name)
			{
				name = '_popup';
			}

			window.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes, width=' + width);
			return false;
		}

		// ]]>
	</script>

	<link href="{T_FONT_AWESOME_LINK}" rel="stylesheet">
	{% INCLUDECSS 'admin.css' %}

	<!-- EVENT acp_overall_header_head_append -->

	{$STYLESHEETS}

	<!-- EVENT acp_overall_header_stylesheets_after -->

</head>

<body class="{S_CONTENT_DIRECTION} {BODY_CLASS} nojs">

<!-- EVENT acp_overall_header_body_before -->

<div id="wrap">
	<div id="page-header">
		<h1>{L_ADMIN_PANEL}</h1>
		<p><a href="{U_ADM_INDEX}">{L_ADMIN_INDEX}</a> &bull; <a href="{U_INDEX}">{L_FORUM_INDEX}</a></p>
		<p id="skip"><a href="#acp">{L_SKIP}</a></p>
	</div>

	<div id="page-body">
		<div id="tabs">
			<ul>
				{% for category in acp_categories %}
					<li class="tab{{ category.S_SELECTED ? ' activetab' : '' }}">
						<a href="{{ category.U_VIEW }}">
							{{ category.L_TITLE }}
						</a>
					</li>
				{% endfor %}
			</ul>
		</div>

		<div id="acp">
			<div id="content">
				<div id="menu">
					<p>
						{L_LOGGED_IN_AS}<br />
						<strong>{USERNAME}</strong> [&nbsp;<a href="{U_LOGOUT}">{L_LOGOUT}</a>&nbsp;][&nbsp;<a href="{U_ADM_LOGOUT}">{L_ADM_LOGOUT}</a>&nbsp;]
					</p>

					{% macro links(links) %}
						{% for link in links %}
							<li{{ link.S_SELECTED ? ' id="activemenu"' : '' }}>
								<a href="{{ link.U_VIEW }}">
									<span>{{ link.L_TITLE }}</span>
								</a>
								{% if link.CHILDREN %}
									<ul>
										{{ _self.links(link.CHILDREN) }}
									</ul>
								{% endif %}
							</li>
						{% endfor %}
					{% endmacro %}

					{% for item in acp_menu %}
						<div class="menu-block{{ item.CHILDREN ? '' : ' no-header' }}{{ item.S_SELECTED ? ' active' : '' }}">
							{% if item.CHILDREN %}<a class="header" href="javascript:void(0);">{{ item.L_TITLE }}</a>{% endif %}
							<ul>
								{% if item.CHILDREN %}
									{{ _self.links(item.CHILDREN) }}
								{% else %}
									<li{{ item.S_SELECTED ? ' id="activemenu"' : '' }}>
										<a href="{{ item.U_VIEW }}">
											<span>{{ item.L_TITLE }}</span>
										</a>
									</li>
								{% endif %}
							</ul>
						</div>
					{% endfor %}
				</div>

				<div id="main">
					<div class="main">
						{% if CONTAINER_EXCEPTION !== false %}
							<div class="errorbox">
								<p>{{ lang('CONTAINER_EXCEPTION') }}</p><br />
								<p>{{ lang('EXCEPTION') }}{{ lang('COLON') }} {{ CONTAINER_EXCEPTION.getMessage() }}</p>
								<pre>{{ CONTAINER_EXCEPTION.getTraceAsString() }}</pre>
							</div>
						{% endif %}
